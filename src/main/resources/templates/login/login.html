<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Iniciar Sesión</title>
<link rel="stylesheet" th:href="@{/css/generalStyle.css}">
<link rel="stylesheet" th:href="@{/css/mainStyle.css}">
<link rel="stylesheet" th:href="@{/css/login.css}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
	<nav th:replace="~{fragments/navPrincipal :: navbar}"></nav>

	<div class="login-page">
		<div class="login-container">
			<form class="login-box" method="post" th:action="@{/login}">
				<h2>Iniciar Sesión</h2>
				<div th:if="${error}" class="error-message" style="color: red;">
					<p th:text="${error}"></p>
				</div>
				<div class="input-group">
					<label for="correo">Correo electrónico</label> <input type="email"
						id="correo" name="username" required>
				</div>
				<div class="input-group password-container">
					<label for="password">Contraseña</label> <input type="password"
						id="password" name="password" required> <span
						class="toggle-password" onclick="togglePassword('password')">
						<i class="fa fa-eye" id="toggleIconPassword"></i>
					</span>
				</div>
				<input type="hidden" th:name="${_csrf.parameterName}"
					th:value="${_csrf.token}" />
				<button type="submit" class="btn">Entrar</button>
				<p class="enlace-registro">
					¿No tienes cuenta? <a th:href="@{/login/registroUsuario}">Regístrate
						aquí</a>
				</p>
			</form>
		</div>
	</div>
	<script>
		function togglePassword(inputId) {
			const input = document.getElementById(inputId);
			const icon = document.getElementById('toggleIcon'
					+ inputId.charAt(0).toUpperCase() + inputId.slice(1));
			if (input.type === 'password') {
				input.type = 'text';
				icon.classList.remove('fa-eye');
				icon.classList.add('fa-eye-slash');
			} else {
				input.type = 'password';
				icon.classList.remove('fa-eye-slash');
				icon.classList.add('fa-eye');
			}
		}
	</script>
</body>
</html>
